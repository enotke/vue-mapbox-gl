{"version":3,"file":"MapboxImages.js","sources":["../../src/components/MapboxImages.vue"],"sourcesContent":["<template>\n  <div>\n    <mapbox-image\n      v-for=\"(source, index) in sources\"\n      :key=\"`mapbox-images-${source.id}`\"\n      v-bind=\"source\"\n      @add=\"addHandler($event, index + 1, sources.length)\" />\n    <slot v-if=\"isReady\" />\n  </div>\n</template>\n\n<script>\n  import MapboxImage from './MapboxImage';\n\n  export default {\n    name: 'MapboxImages',\n    components: {\n      MapboxImage,\n    },\n    props: {\n      /**\n       * A list of sources to add to the map\n       * @see  https://docs.mapbox.com/mapbox-gl-js/api/#map#addimage\n       * @see  ./MapboxImage.vue\n       * @type {Object}\n       */\n      sources: {\n        type: Array,\n        required: true,\n      },\n    },\n    data() {\n      return {\n        isReady: false,\n        addedImages: new Map(),\n      };\n    },\n    methods: {\n      addHandler(image, index, total) {\n        if (!this.addedImages.has(image.id)) {\n          this.addedImages.set(image.id, image);\n          this.$emit('add', image, index, total);\n        }\n\n        if (this.addedImages.size === this.sources.length) {\n          this.isReady = true;\n          this.$emit('ready', this.addedImages.values());\n        }\n      },\n    },\n  };\n</script>\n"],"names":[],"mappings":";;;;;;;AAcA;;;;;;;AAOA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;CAXA;;;AAZA,2BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}